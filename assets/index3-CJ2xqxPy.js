import{c as C,s as f}from"./useTrack-Ct2ePmB2.js";import{i as g,g as h}from"./useCamera-BQK0mUjQ.js";import{d as b,r as y,o as x,n as v,c as _,b as w,a as k}from"./index-Bllr1IOy.js";const z=b({__name:"index3",setup(L){const m=y();let t={};x(()=>{t=C(m.value),f(t,""),g(t,{h:3.718370327311386,p:-.3010506403945121,r:6.28310172170836,x:-2.8237683313198322e6,y:4666749553599145e-9,z:3303114832907625e-9}),v(()=>{const i=t.entities.add({position:Cesium.Cartesian3.fromDegrees(121.1,31.1,1e3),label:{text:"动态label",outlineColor:Cesium.Color.BLUE,outlineWidth:0,style:Cesium.LabelStyle.FILL_AND_OUTLINE,eyeOffset:new Cesium.Cartesian3(0,0,-1e4)}});let s=.1,e=-1,o=20;const l=1,r=48;t.scene.preUpdate.addEventListener(function(M,T){i.label.outlineWidth+=s,(i.label.outlineWidth>=4||i.label.outlineWidth<=0)&&(s*=-1),o+=e,(o>=r||o<=l)&&(e*=-1),i.label.font=`${o}px Calibri`}),d([121.11,31.2],"自定义跟随信息框","210204121"),p(t)})});const d=(a,i,s)=>{let e=document.createElement("div");e.id=s,e.style.position="absolute",e.style.width="100px",e.style.height="30px";let o=`
  <div id="${s}" class="divlabel-container">
    <div class="animate-maker-border">
      <span class="animate-marker__text">${i}</span>
    </div>
  </div>
`;e.innerHTML=o,t.cesiumWidget.container.appendChild(e);let l=Cesium.Cartesian3.fromDegrees(a[0],a[1],500);t.scene.postRender.addEventListener(()=>{const r=t.scene.canvas.height,n=new Cesium.Cartesian2;Cesium.SceneTransforms.wgs84ToWindowCoordinates(t.scene,l,n),e.style.bottom=r-n.y+"px";const c=e.offsetWidth;e.style.left=n.x-c/2+"px"},this)},p=a=>{let i=Cesium.Math.toRadians(30);function s(){return i+=.005,i}a.entities.add({position:Cesium.Cartesian3.fromDegrees(121.1,31.3,300),billboard:{image:"/gisdemo//materia/clickStyle2.png",color:Cesium.Color.WHITE.withAlpha(.8),scale:.8},ellipse:{semiMajorAxis:5e3,semiMinorAxis:5e3,rotation:new Cesium.CallbackProperty(s,!1),stRotation:new Cesium.CallbackProperty(s,!1),material:new Cesium.ImageMaterialProperty({image:"/gisdemo//materia/result.png"})}}),a.zoomTo(a.entities),a.entities.add({position:Cesium.Cartesian3.fromDegrees(121.1,31.25,1e3),billboard:{image:"/gisdemo//materia/policeCar.png",color:Cesium.Color.WHITE.withAlpha(.8),scale:1}})},u=()=>{console.log(h(t))};return(a,i)=>(k(),_("div",{onClick:u},[w("div",{ref_key:"cesiumContainer",ref:m,class:"cesiumContainer"},null,512)]))}});export{z as default};
