import{c as v,s as g}from"./useTrack-Ct2ePmB2.js";import{i as y}from"./useCamera-BQK0mUjQ.js";import{d as _,r as k,o as z,n as x,c as R,b,e as m,w as l,F as A,f as c,a as B,g as d}from"./index-jcuMGpNP.js";const T=_({__name:"index5",setup(P){const p=k();let s={};z(()=>{s=v(p.value),g(s,"ARCGIS"),y(s,{h:3.718370327311386,p:-.3010506403945121,r:6.28310172170836,x:-2.8237683313198322e6,y:4666749553599145e-9,z:3303114832907625e-9},!1),w(s.scene),x(()=>{})});const S=e=>{switch(e){case 1:w(s.scene);break;case 2:h(s.scene);break}},w=e=>{const r=new Cesium.Cartesian2(12,12),i=new Cesium.Cartesian2(12*2,12*2);let a=new Cesium.Cartesian3;const t=function(o,C){a=Cesium.Cartesian3.normalize(o.position,a),Cesium.Cartesian3.multiplyByScalar(a,Cesium.Math.randomBetween(-30,-300),a),o.velocity=Cesium.Cartesian3.add(o.velocity,a,o.velocity);const f=Cesium.Cartesian3.distance(e.camera.position,o.position);f>1e5?o.endColor.alpha=0:o.endColor.alpha=1/(f/1e5+.1)};e.primitives.removeAll(),e.primitives.add(new Cesium.ParticleSystem({modelMatrix:new Cesium.Matrix4.fromTranslation(e.camera.position),minimumSpeed:-1,maximumSpeed:0,lifetime:15,emitter:new Cesium.SphereEmitter(1e5),startScale:.5,endScale:1,image:"/gisdemo//materia/snowflake_particle.png",emissionRate:7e3,startColor:Cesium.Color.WHITE.withAlpha(0),endColor:Cesium.Color.WHITE.withAlpha(1),minimumImageSize:r,maximumImageSize:i,updateCallback:t})),e.skyAtmosphere.hueShift=-.8,e.skyAtmosphere.saturationShift=-.7,e.skyAtmosphere.brightnessShift=-.33,e.fog.density=.001,e.fog.minimumBrightness=.8},h=e=>{const r=new Cesium.Cartesian2(15,30);let i=new Cesium.Cartesian3;const a=function(t,o){i=Cesium.Cartesian3.normalize(t.position,i),i=Cesium.Cartesian3.multiplyByScalar(i,-1050,i),t.position=Cesium.Cartesian3.add(t.position,i,t.position);const C=Cesium.Cartesian3.distance(e.camera.position,t.position);C>1e5?t.endColor.alpha=0:t.endColor.alpha=Cesium.Color.BLUE.alpha/(C/1e5+.1)};e.primitives.removeAll(),e.primitives.add(new Cesium.ParticleSystem({modelMatrix:new Cesium.Matrix4.fromTranslation(e.camera.position),speed:-1,lifetime:15,emitter:new Cesium.SphereEmitter(1e5),startScale:1,endScale:0,image:"/gisdemo//materia/circular_particle.png",emissionRate:9e3,startColor:new Cesium.Color(.27,.5,.7,0),endColor:new Cesium.Color(.27,.5,.7,.98),imageSize:r,updateCallback:a})),e.skyAtmosphere.hueShift=-.97,e.skyAtmosphere.saturationShift=.25,e.skyAtmosphere.brightnessShift=-.4,e.fog.density=25e-5,e.fog.minimumBrightness=.01};return(e,n)=>{const u=c("v-icon"),r=c("v-btn"),i=c("v-bottom-navigation");return B(),R(A,null,[b("div",{ref_key:"cesiumContainer",ref:p,class:"cesiumContainer"},null,512),m(i,{color:"primary"},{default:l(()=>[m(r,{onClick:n[0]||(n[0]=a=>S(1))},{default:l(()=>[m(u,null,{default:l(()=>[d("mdi-history")]),_:1}),d(" 添加下雪效果 ")]),_:1}),m(r,{onClick:n[1]||(n[1]=a=>S(2))},{default:l(()=>[m(u,null,{default:l(()=>[d("mdi-heart")]),_:1}),d(" 添加雨天效果 ")]),_:1})]),_:1})],64)}}});export{T as default};
