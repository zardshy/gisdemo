import{S,B as L,M as P,a as R,P as y,b as n,c as _,T as E,W as B,d as D,D as G,e as W,O as k,f as z}from"./OrbitControls-CD1bB5Lp.js";import{d as A,s as C,o as H,h as I,c as T,a as j}from"./index-Bllr1IOy.js";class q extends S{constructor(o=null){super();const e=new L;e.deleteAttribute("uv");const a=new P({side:R}),t=new P;let i=5;o!==null&&o._useLegacyLights===!1&&(i=900);const M=new y(16777215,i,28,2);M.position.set(.418,16.199,.3),this.add(M);const p=new n(e,a);p.position.set(-.757,13.219,.717),p.scale.set(31.713,28.305,28.591),this.add(p);const l=new n(e,t);l.position.set(-10.906,2.009,1.846),l.rotation.set(0,-.195,0),l.scale.set(2.328,7.905,4.651),this.add(l);const h=new n(e,t);h.position.set(-5.607,-.754,-.758),h.rotation.set(0,.994,0),h.scale.set(1.97,1.534,3.955),this.add(h);const w=new n(e,t);w.position.set(6.167,.857,7.803),w.rotation.set(0,.561,0),w.scale.set(3.927,6.285,3.687),this.add(w);const u=new n(e,t);u.position.set(-2.017,.018,6.124),u.rotation.set(0,.333,0),u.scale.set(2.002,4.566,2.064),this.add(u);const s=new n(e,t);s.position.set(2.291,-.756,-2.621),s.rotation.set(0,-.286,0),s.scale.set(1.546,1.552,1.496),this.add(s);const r=new n(e,t);r.position.set(-2.193,-.369,-5.547),r.rotation.set(0,.516,0),r.scale.set(3.875,3.487,2.986),this.add(r);const c=new n(e,g(50));c.position.set(-16.116,14.37,8.208),c.scale.set(.1,2.428,2.739),this.add(c);const d=new n(e,g(50));d.position.set(-16.109,18.021,-8.207),d.scale.set(.1,2.425,2.751),this.add(d);const m=new n(e,g(17));m.position.set(14.904,12.198,-1.832),m.scale.set(.15,4.265,6.331),this.add(m);const x=new n(e,g(43));x.position.set(-.462,8.89,14.52),x.scale.set(4.38,5.441,.088),this.add(x);const f=new n(e,g(20));f.position.set(3.235,11.486,-12.541),f.scale.set(2.5,2,.1),this.add(f);const b=new n(e,g(100));b.position.set(0,20,0),b.scale.set(1,.1,1),this.add(b)}dispose(){const o=new Set;this.traverse(e=>{e.isMesh&&(o.add(e.geometry),o.add(e.material))});for(const e of o)e.dispose()}}function g(v){const o=new _;return o.color.setScalar(v),o}const F="/gisdemo/assets/full-CI2ue_Px.jpeg",J=A({__name:"vrImg",setup(v){const o=C(),e=new S;let a,t,i;const M=new E;let p,l=0;const h=()=>{if(a.render(e,t),i.update(),l=requestAnimationFrame(h),u(a)){const s=a.domElement;t.aspect=s.clientWidth/s.clientHeight,t.updateProjectionMatrix()}};function w(){a=new B({canvas:o.value,antialias:!0,alpha:!0}),a.shadowMap.enabled=!0,t=new D(50,a.domElement.clientWidth/a.domElement.clientHeight),t.position.set(0,1,4);const s=new G(16777215,1);s.position.set(8,9,0),e.add(s),p=new W(a),e.environment=p.fromScene(new q,.04).texture,i=new k(t,a.domElement),i.rotateSpeed=-1,i.enablePan=!1,i.enableDamping=!0,i.autoRotate=!0,i.autoRotateSpeed=2,i.update();const r=new z(1,50,50);r.scale(10,10,-10),M.load(F,c=>{const d=new _({map:c}),m=new n(r,d);e.add(m),h()})}function u(s){const r=s.domElement,c=window.innerWidth,d=window.innerHeight,m=r.width/window.devicePixelRatio,x=r.height/window.devicePixelRatio,f=m!==c||x!==d;return f&&(t.updateProjectionMatrix(),s.setSize(c,d,!1)),f}return H(w),I(()=>{cancelAnimationFrame(l),a.dispose(),e.clear(),t.clear()}),(s,r)=>(j(),T("canvas",{id:"vr360",height:"365",ref_key:"nodeDom",ref:o},null,512))}});export{J as default};
